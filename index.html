<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSP Wheel </title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <video autoplay muted loop id="videoBackground"></video>
    <div class="container">
        <div class="header">
            <h1>üéØ DSP Wheel</h1>
            <p>T·∫°o v√≤ng quay v√† l∆∞u danh s√°ch c·ªßa b·∫°n m·ªôt c√°ch d·ªÖ d√†ng!</p>
            <button id="toggleControlsBtn" class="btn btn-secondary" style="margin-top: 15px; padding: 8px 15px; font-size: 0.9rem;" aria-label="·∫®n ho·∫∑c hi·ªán b·∫£ng ƒëi·ªÅu khi·ªÉn">·∫®n Controls</button>
        </div>

        <div class="main-content" id="mainContent">
            <div class="wheel-section">
                <div class="wheel-container">
                    <div class="wheel-pointer"></div>
                    <div class="wheel" id="wheel"></div>
                    <div class="wheel-center" aria-hidden="true">SPIN</div>
                </div>
                <button class="spin-btn" id="spinBtn" aria-label="Quay b√°nh xe">üé≤ QUAY NGAY!</button>
            </div>

            <div class="controls" id="controlsElement">
                <div class="section">
                    <h3>üéµ Nh·∫°c n·ªÅn</h3>
                     <div style="margin-bottom: 15px;">
                        <label style="margin-right: 10px;">
                            <input type="radio" name="musicSource" value="local" checked> File t·ª´ m√°y
                        </label>
                        <label style="margin-right: 10px;">
                            <input type="radio" name="musicSource" value="soundcloud"> SoundCloud URL
                        </label>
                        <label>
                            <input type="radio" name="musicSource" value="spotify"> Spotify URL
                        </label>
                    </div>

                    <div id="localMusicControls">
                        <input type="file" id="musicInput" accept="audio/*" aria-label="T·∫£i l√™n file nh·∫°c n·ªÅn">
                    </div>

                    <div id="urlMusicControls" style="display:none; margin-top:10px;">
                        <div class="input-group" style="margin-bottom: 5px;">
                            <input type="text" id="musicUrlInput" placeholder="D√°n URL b√†i h√°t/playlist v√†o ƒë√¢y" aria-label="D√°n URL nh·∫°c t·ª´ SoundCloud ho·∫∑c Spotify">
                        </div>
                        <button class="btn btn-primary" id="loadMusicUrlBtn" style="width:100%;">T·∫£i nh·∫°c t·ª´ URL</button>
                    </div>

                    <div id="embeddedPlayerContainer">
                        <span id="embeddedPlayerPlaceholder">Tr√¨nh ph√°t nh·∫°c s·∫Ω hi·ªán ·ªü ƒë√¢y</span>
                    </div>

                    <div style="display: flex; gap: 10px; margin-bottom: 10px; margin-top:15px;">
                        <button class="btn btn-success" id="playMusicBtn" aria-label="Ph√°t nh·∫°c">‚ñ∂Ô∏è Ph√°t</button>
                        <button class="btn btn-danger" id="stopMusicBtn" aria-label="D·ª´ng nh·∫°c">‚èπÔ∏è D·ª´ng</button>
                    </div>
                    <div class="volume-control-group">
                        <span aria-hidden="true">üîä</span>
                        <input type="range" id="volumeSlider" min="0" max="100" value="50" aria-label="ƒêi·ªÅu ch·ªânh √¢m l∆∞·ª£ng nh·∫°c n·ªÅn">
                        <span style="font-size: 0.8rem; min-width: 35px;" id="volumeValue">50%</span>
                    </div>
                     <p class="music-source-note"><i>L∆∞u √Ω: N√∫t Ph√°t/D·ª´ng/√Çm l∆∞·ª£ng t√πy ch·ªânh ch·ªâ ho·∫°t ƒë·ªông v·ªõi nh·∫°c t·ª´ file m√°y. S·ª≠ d·ª•ng ƒëi·ªÅu khi·ªÉn tr√™n tr√¨nh ph√°t cho nh·∫°c t·ª´ URL.</i></p>
                </div>


                <div class="section">
                    <h3>üñºÔ∏è H√¨nh n·ªÅn t√πy ch·ªânh</h3>
                    <label for="backgroundInput" style="display:block; margin-bottom:5px;">Ch·ªçn ·∫£nh ho·∫∑c video l√†m n·ªÅn:</label>
                    <input type="file" id="backgroundInput" accept="image/*,video/*" aria-label="T·∫£i l√™n file h√¨nh n·ªÅn ho·∫∑c video" style="margin-bottom: 10px;">
                    
                    <div style="display: flex; gap: 10px; margin-top:10px;">
                        <button class="btn btn-primary" id="applyBackgroundBtn" style="flex: 1;" aria-label="√Åp d·ª•ng n·ªÅn ƒë√£ ch·ªçn">√Åp d·ª•ng</button>
                        <button class="btn btn-danger" id="resetBackgroundBtn" style="flex: 1;" aria-label="X√≥a n·ªÅn hi·ªán t·∫°i">X√≥a n·ªÅn</button>
                    </div>
                </div>
                
                <div class="section">
                    <h3>üìù Th√™m ho·∫∑c Nh·∫≠p h√†ng lo·∫°t</h3>
                    <textarea id="namesBatchInput" rows="4" placeholder="Nh·∫≠p m·ªói t√™n tr√™n m·ªôt d√≤ng ho·∫∑c d√°n danh s√°ch v√†o ƒë√¢y..." aria-label="Nh·∫≠p m·ªôt ho·∫∑c nhi·ªÅu t√™n, m·ªói t√™n m·ªôt d√≤ng"></textarea>
                    <button class="btn btn-primary" id="addNamesBatchBtn" style="width: 100%; margin-top: 10px;" aria-label="Th√™m t·∫•t c·∫£ t√™n t·ª´ √¥ nh·∫≠p v√†o danh s√°ch">Th√™m v√†o danh s√°ch</button>
                </div>

                <div class="section">
                    <h3>üë• Danh s√°ch t√™n (T·ªïng: <span id="nameCount">0</span>)</h3>
                    <div class="names-list" id="namesList" aria-live="polite"></div>
                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                        <button class="btn btn-secondary" id="shuffleNamesBtn" style="width: 100%;" aria-label="ƒê·∫£o ng·∫´u nhi√™n v·ªã tr√≠ c√°c t√™n trong danh s√°ch">üîÄ ƒê·∫£o t√™n</button>
                        <button class="btn btn-danger" id="clearAllNamesBtn" style="width: 100%;" aria-label="X√≥a t·∫•t c·∫£ t√™n trong danh s√°ch hi·ªán t·∫°i">X√≥a t·∫•t c·∫£</button>
                    </div>
                </div>

                <div class="section">
                    <h3>üíæ L∆∞u danh s√°ch</h3>
                    <div class="input-group">
                        <input type="text" id="listNameInput" placeholder="T√™n danh s√°ch..." aria-label="Nh·∫≠p t√™n cho danh s√°ch mu·ªën l∆∞u">
                        <button class="btn btn-success" id="saveListBtn" aria-label="L∆∞u danh s√°ch t√™n hi·ªán t·∫°i">L∆∞u</button>
                    </div>
                </div>

                <div class="section">
                    <h3>üìÇ Danh s√°ch ƒë√£ l∆∞u</h3>
                    <div class="saved-lists" id="savedListsContainer" aria-live="polite"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="result-modal" id="resultModal" role="dialog" aria-modal="true" aria-labelledby="resultModalTitle" style="display: none;">
        <div class="result-content">
            <h2 id="resultModalTitle">üéâ K·∫øt qu·∫£</h2>
            <div class="winner-name" id="winnerName"></div>
            <button class="close-btn" id="closeModalBtn" aria-label="ƒê√≥ng h·ªôp tho·∫°i k·∫øt qu·∫£">ƒê√≥ng</button>
        </div>
    </div>

    <div class="info-banner" id="infoBanner">
        <span id="infoBannerText"></span>
    </div>

    <!-- H·ªÜ TH·ªêNG TH√îNG B√ÅO & X√ÅC NH·∫¨N M·ªöI -->
    <div id="toastContainer"></div>

    <div class="modal-overlay" id="confirmModal" role="dialog" aria-modal="true" aria-labelledby="confirmModalTitle" style="display: none;">
        <div class="confirm-content">
            <h2 id="confirmModalTitle">X√°c nh·∫≠n</h2>
            <p id="confirmMessage"></p>
            <div class="confirm-buttons">
                <button class="btn btn-secondary" id="confirmCancelBtn">H·ªßy</button>
                <button class="btn btn-danger" id="confirmOkBtn">X√°c nh·∫≠n</button>
            </div>
        </div>
    </div>
    <!-- K·∫æT TH√öC H·ªÜ TH·ªêNG M·ªöI -->

    <script src="script.js"></script>
</body>
</html>
